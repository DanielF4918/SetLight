@model SetLight.Abstracciones.ViewModels.CrearRentalOrderViewModel

@using (Html.BeginForm())
{
    <div class="form-group">
        <label>Cliente</label><br />
        @Html.DropDownListFor(m => m.ClientId, new SelectList(Model.Clientes, "ClientId", "FirstName"), "Seleccione un cliente", new { @class = "form-control" })
    </div>

    <div class="form-group">
        <label>Fecha de inicio</label><br />
        @Html.TextBoxFor(m => m.StartDate, new { type = "date", @class = "form-control" })
    </div>

    <div class="form-group">
        <label>Fecha de fin</label><br />
        @Html.TextBoxFor(m => m.EndDate, new { type = "date", @class = "form-control" })
    </div>

    @Html.HiddenFor(m => m.StatusOrder)

    <div class="form-group">
        <label>Equipos</label><br />
        <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#modalSeleccionarEquipos">
            Seleccionar equipos
        </button>
    </div>

    <div id="equiposSeleccionadosContainer" class="mt-3">
        <h5>Equipos seleccionados</h5>
        <table class="table table-bordered" id="tablaResumenEquipos">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Marca</th>
                    <th>Modelo</th>
                    <th>Valor Renta</th>
                    <th>Cantidad</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>

    <div class="form-group">
        <input type="submit" value="Crear Orden" class="btn btn-primary" />
    </div>
}

<div class="modal fade" id="modalSeleccionarEquipos" tabindex="-1" role="dialog" aria-labelledby="modalLabelEquipos" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalLabelEquipos">Seleccionar equipos</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="modalBodyEquipos">
                @Html.Partial("_SeleccionarEquipos", Model.EquiposDisponibles)
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/Scripts/Modals/CreateOrder/CreateOrder.js"></script>
}
